# DistributionTenant with automatic DNS record management.
# The operator will create CNAME records in Route53 pointing tenant domains
# to the CloudFront distribution endpoint.
#
# NOTE: The dns feature is a Phase 4 capability. The operator will currently
# ignore the dns field. This sample serves as a design reference.
apiVersion: cloudfront-tenant-operator.io/v1alpha1
kind: DistributionTenant
metadata:
  labels:
    app.kubernetes.io/name: cloudfront-tenant-operator
    app.kubernetes.io/managed-by: kustomize
  name: my-tenant-with-dns
spec:
  distributionId: "E1XNX8R2GOAABC"
  name: "my-tenant-with-dns"
  domains:
    - domain: "dns-managed.example.com"

  managedCertificateRequest:
    validationTokenHost: "cloudfront"
    primaryDomainName: "dns-managed.example.com"

  dns:
    provider: route53
    hostedZoneId: "Z1234567890ABC"
