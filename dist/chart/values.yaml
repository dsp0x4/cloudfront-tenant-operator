# Default values for cloudfront-tenant-operator.

replicaCount: 1

image:
  repository: ghcr.io/dsp0x4/cloudfront-tenant-operator
  tag: ""  # Defaults to appVersion
  pullPolicy: IfNotPresent

imagePullSecrets: []
nameOverride: ""
fullnameOverride: ""

# AWS configuration
aws:
  # AWS region for CloudFront API calls.
  # If empty, uses SDK default resolution (env vars, config file, IMDS).
  region: ""

# Controller configuration
controller:
  # How to handle external drift on AWS resources.
  # enforce: overwrite AWS with the K8s spec (default).
  # report: log and set conditions but don't modify AWS.
  # suspend: skip drift detection entirely.
  driftPolicy: enforce
  # Maximum number of concurrent reconcile loops.
  # Higher values improve throughput when managing many tenants
  # but increase AWS API usage.
  maxConcurrentReconciles: 1

# Leader election ensures only one controller instance is active.
leaderElection:
  enabled: true

# Metrics configuration
metrics:
  # Bind address for the metrics endpoint. Set to "0" to disable.
  bindAddress: ":8443"
  # Serve metrics over HTTPS
  secure: true

# Health probes
probes:
  # Bind address for health and readiness probes
  bindAddress: ":8081"

serviceAccount:
  # Specifies whether a service account should be created
  create: true
  # Annotations to add to the service account (e.g., for IRSA).
  # Not needed when using EKS Pod Identity (recommended).
  annotations: {}
  # The name of the service account to use.
  # If not set, a name is generated using the fullname template.
  name: ""

resources:
  limits:
    cpu: 500m
    memory: 128Mi
  requests:
    cpu: 10m
    memory: 64Mi

nodeSelector: {}
tolerations: []
affinity: {}

# Additional environment variables for the manager container
extraEnv: []
